- refactor ValveThread to rely more on actions vec
- path contraction?
- ues tree structure (leaves have references to ancestors) instead of cloning paths...